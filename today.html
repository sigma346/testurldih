<!DOCTYPE html>
<html>
<head>
    <title>Today's Image</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const db = supabase.createClient(
        "https://zdtpcfxzncehhnvmglsj.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpkdHBjZnh6bmNlaGhudm1nbHNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4MzcwMDYsImV4cCI6MjA3ODQxMzAwNn0.vlwKNgq0Gqyg7e747O7s3KCVw2J9bZQfS5zzW78X6RY"
        );
    </script>
    <script src="script.js"></script>
    <link rel='stylesheet' href="stylesheet.css">
</head>
<body>
    <div id="navbar"></div>
    <div class="content-section">
        <h1>Today's AI Pickett</h1>
        <div id="image-container">
            <p>Loading...</p>
        </div>
    </div>
    <script>
        async function loadTodayImage() {
        const today = new Date().toLocaleDateString("en-CA");

        const { data, error } = await db
            .from("today_image")
            .select("image_url")
            .eq("date", today)
            .limit(1)
            .single();

        if (error || !data) {
            document.getElementById("image-container").innerHTML = "<p>No image uploaded for today yet.</p>";
            return;
        }

        document.getElementById("image-container").innerHTML = `
            <img src="${data.image_url}" class="pickett-image">
            <p>AI Pickett for ${today}</p>
        `;
        }

        loadTodayImage();
    </script>

    <br><br><br>
    <div id="footer"></div>

</body>
</html>
